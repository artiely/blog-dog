<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>前端面试题汇总-js-3 | Artiely'blog</title><meta name="description" content="前端面试题汇总-js-3## XSS### XSS是什么XSS是一种经常出现在web应用中的计算机安全漏洞，它允许恶意web用户将代码植入到提供给其它用户使用的页面中。比如这些代码包括HTML代码和客户端脚本。攻击者利用XSS漏洞旁路掉访问控制——例如同源策略(same origin policy)。这种类型的漏洞由于被黑客用来编写危害性更大的网络钓鱼(Phishing) ...">
    <link rel="modulepreload" href="/blog-dog/assets/app.cc5d8726.js"><link rel="modulepreload" href="/blog-dog/assets/2020-8-29-frontend-js3.html.c98b0a83.js"><link rel="modulepreload" href="/blog-dog/assets/2020-8-29-frontend-js3.html.330bb2c8.js"><link rel="prefetch" href="/blog-dog/assets/index.html.c5bbe68b.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-27-frontend-css1.html.df2cb901.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-28-frontend-css2.html.362fd64f.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-29-frontend-js1.html.0990d5fe.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-29-frontend-js2.html.37910de8.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-30-frontend-brower1.html.245ab6de.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-30-frontend-brower2.html.b46f32c3.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-31-frontend-brower3.html.3e78d545.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-31-frontend-brower4.html.c8e8be2f.js"><link rel="prefetch" href="/blog-dog/assets/2021-2-23-proxy.html.db50a376.js"><link rel="prefetch" href="/blog-dog/assets/2022-1-11md-test.html.e5d83dfb.js"><link rel="prefetch" href="/blog-dog/assets/404.html.197b4016.js"><link rel="prefetch" href="/blog-dog/assets/index.html.0ea1cb86.js"><link rel="prefetch" href="/blog-dog/assets/index.html.35300fe9.js"><link rel="prefetch" href="/blog-dog/assets/index.html.67e13a3a.js"><link rel="prefetch" href="/blog-dog/assets/index.html.2930a454.js"><link rel="prefetch" href="/blog-dog/assets/index.html.6633247f.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-27-frontend-css1.html.8fcf31f2.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-28-frontend-css2.html.e4ecbee0.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-29-frontend-js1.html.e72b844b.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-29-frontend-js2.html.c58140f7.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-30-frontend-brower1.html.fcf1c256.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-30-frontend-brower2.html.745f8f20.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-31-frontend-brower3.html.38159d99.js"><link rel="prefetch" href="/blog-dog/assets/2020-8-31-frontend-brower4.html.8b83ff26.js"><link rel="prefetch" href="/blog-dog/assets/2021-2-23-proxy.html.0c24c22b.js"><link rel="prefetch" href="/blog-dog/assets/2022-1-11md-test.html.e464c542.js"><link rel="prefetch" href="/blog-dog/assets/404.html.93146c89.js"><link rel="prefetch" href="/blog-dog/assets/index.html.97f4289c.js"><link rel="prefetch" href="/blog-dog/assets/index.html.7c8b0471.js"><link rel="prefetch" href="/blog-dog/assets/index.html.225fde64.js"><link rel="prefetch" href="/blog-dog/assets/index.html.71497e48.js"><link rel="prefetch" href="/blog-dog/assets/404.0107fcba.js"><link rel="prefetch" href="/blog-dog/assets/Timeline.a28ef1c4.js"><link rel="prefetch" href="/blog-dog/assets/Comment.d637b61c.js"><link rel="prefetch" href="/blog-dog/assets/Tags.172eb17d.js"><link rel="prefetch" href="/blog-dog/assets/vanilla-tilt.es2015.23c0b18e.js"><link rel="prefetch" href="/blog-dog/assets/lightgallery.es5.a2f185c8.js">
    <link rel="stylesheet" href="/blog-dog/assets/style.0fd4dc4d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="dog"><!--[--><!--[--><header class="header"><div class="header-main"><div class="logo">Artiely&#39;Blog</div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="nav"><!--[--><a href="/" class="link" target="_self">Home</a><a href="/timeline" class="link" target="_self">Timeline</a><a href="/comment" class="link" target="_self">Comment</a><a href="/tag" class="link" target="_self">Tags</a><a href="https://github.com/artiely" class="link" target="_blank">Github</a><!--]--></nav></div></header><div class="header-mobile"><div class="logo">Artiely&#39;Blog</div><div class="menu-btn"><i class="iconfont icon-hanbaocaidan"></i></div></div><nav class="nav-mobile" style="display:none;"><!--[--><a href="/" class="link">Home</a><a href="/timeline" class="link">Timeline</a><a href="/comment" class="link">Comment</a><a href="/tag" class="link">Tags</a><a href="https://github.com/artiely" class="link">Github</a><!--]--></nav><!--]--><!--]--><div class="body"><!--[--><!--[--><div class="sidebar-box"><div class="con"><aside class="dog-sidebar"><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">前端面试题汇总-js-3 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#xss" class="router-link-active router-link-exact-active sidebar-item" aria-label="XSS"><!--[--><!--]--> XSS <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#xss是什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="XSS是什么"><!--[--><!--]--> XSS是什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#特点" class="router-link-active router-link-exact-active sidebar-item" aria-label="特点"><!--[--><!--]--> 特点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#原因" class="router-link-active router-link-exact-active sidebar-item" aria-label="原因"><!--[--><!--]--> 原因 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#危害" class="router-link-active router-link-exact-active sidebar-item" aria-label="危害"><!--[--><!--]--> 危害 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#如何防范" class="router-link-active router-link-exact-active sidebar-item" aria-label="如何防范"><!--[--><!--]--> 如何防范 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#csrf" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSRF"><!--[--><!--]--> CSRF <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#特点-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="特点"><!--[--><!--]--> 特点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#防御" class="router-link-active router-link-exact-active sidebar-item" aria-label="防御"><!--[--><!--]--> 防御 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#同源策略" class="router-link-active router-link-exact-active sidebar-item" aria-label="同源策略"><!--[--><!--]--> 同源策略 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#跨域" class="router-link-active router-link-exact-active sidebar-item" aria-label="跨域"><!--[--><!--]--> 跨域 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#jsonp" class="router-link-active router-link-exact-active sidebar-item" aria-label="JSONP"><!--[--><!--]--> JSONP <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog-dog/posts/2020-8-29-frontend-js3.html#域名收敛" class="router-link-active router-link-exact-active sidebar-item" aria-label="域名收敛"><!--[--><!--]--> 域名收敛 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside></div></div><div class="md-body sino sino-kai"><div class="default-content"><!--[--><h1 id="前端面试题汇总-js-3" tabindex="-1"><a class="header-anchor" href="#前端面试题汇总-js-3">¶</a> <span class="prefix"></span><span class="content" id="前端面试题汇总-js-3"><a class="header-anchor" href="#前端面试题汇总-js-3" aria-hidden="true">#</a> 前端面试题汇总-js-3</span><span class="suffix"></span></h1><h2 id="xss" tabindex="-1"><a class="header-anchor" href="#xss">¶</a> <span class="prefix"></span><span class="content" id="xss"><a class="header-anchor" href="#xss" aria-hidden="true">#</a> XSS</span><span class="suffix"></span></h2><h3 id="xss是什么" tabindex="-1"><a class="header-anchor" href="#xss是什么">¶</a> <span class="prefix"></span><span class="content" id="xss是什么"><a class="header-anchor" href="#xss是什么" aria-hidden="true">#</a> XSS是什么</span><span class="suffix"></span></h3><p>XSS是一种经常出现在web应用中的计算机安全漏洞，它允许恶意web用户将代码植入到提供给其它用户使用的页面中。</p><p>比如这些代码包括HTML代码和客户端脚本。攻击者利用XSS漏洞旁路掉访问控制——例如同源策略(same origin policy)。</p><p>这种类型的漏洞由于被黑客用来编写危害性更大的网络钓鱼(Phishing)攻击而变得广为人知。<br> 对于跨站脚本攻击，黑客界共识是：跨站脚本攻击是新型的“缓冲区溢出攻击“，而JavaScript是新型的“ShellCode”。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 示例：</span>
<span class="token comment">// &lt;script&gt;alert(document.cookie)&lt;/script&gt;</span>
</code><div class="m-mdic-copy-wrapper"><div class="u-mdic-copy-notify" id="j-notify-1645781194590-96361">复制成功</div><button class="u-mdic-copy-btn j-mdic-copy-btn" data-mdic-content="// 示例：
// &lt;script&gt;alert(document.cookie)&lt;/script&gt;
" data-mdic-attach-content="" data-mdic-notify-id="j-notify-1645781194590-96361" data-mdic-notify-delay="1000" data-mdic-copy-fail-text="复制失败" onclick="!function(t){const e={copy:(t=&#39;&#39;,e=&#39;&#39;)=&gt;new Promise((c,o)=&gt;{const n=document.createElement(&#39;textarea&#39;),d=e?`\n\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand(&#39;copy&#39;);document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&amp;&amp;t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=&gt;{n.style.display=&#39;block&#39;,setTimeout(()=&gt;{n.style.display=&#39;none&#39;},d)}).catch(()=&gt;{alert(i)})}};e.btnClick(t)}(this);">复制</button></div></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="特点" tabindex="-1"><a class="header-anchor" href="#特点">¶</a> <span class="prefix"></span><span class="content" id="特点"><a class="header-anchor" href="#特点" aria-hidden="true">#</a> 特点</span><span class="suffix"></span></h3><p>能注入恶意的HTML/JavaScript代码到用户浏览的网页上，从而达到Cookie资料窃取、会话劫持、钓鱼欺骗等攻击。 <code>&lt;攻击代码不一定（非要）在 &lt;script&gt;&lt;/script&gt; 中&gt;</code></p><h3 id="原因" tabindex="-1"><a class="header-anchor" href="#原因">¶</a> <span class="prefix"></span><span class="content" id="原因"><a class="header-anchor" href="#原因" aria-hidden="true">#</a> 原因</span><span class="suffix"></span></h3><ul><li><p>Web浏览器本身的设计不安全。浏览器能解析和执行JS等代码，但是不会判断该数据和程序代码是否恶意。</p></li><li><p>输入和输出是Web应用程序最基本的交互，而且网站的交互功能越来越丰富。如果在这过程中没有做好安全防护，很容易会出现XSS漏洞。</p></li><li><p>程序员水平参差不齐，而且大都没有过正规的安全培训，没有相关的安全意识。</p></li><li><p>XSS攻击手段灵活多变。</p></li></ul><h3 id="危害" tabindex="-1"><a class="header-anchor" href="#危害">¶</a> <span class="prefix"></span><span class="content" id="危害"><a class="header-anchor" href="#危害" aria-hidden="true">#</a> 危害</span><span class="suffix"></span></h3><ul><li>盗取各类用户帐号，如机器登录帐号、用户网银帐号、各类管理员帐号</li><li>控制企业数据，包括读取、篡改、添加、删除企业敏感数据的能力</li><li>盗窃企业重要的具有商业价值的资料</li><li>非法转账</li><li>强制发送电子邮件</li><li>网站挂马</li><li>控制受害者机器向其它网站发起攻击</li></ul><h3 id="如何防范" tabindex="-1"><a class="header-anchor" href="#如何防范">¶</a> <span class="prefix"></span><span class="content" id="如何防范"><a class="header-anchor" href="#如何防范" aria-hidden="true">#</a> 如何防范</span><span class="suffix"></span></h3><ul><li>将重要的cookie标记为http only, 这样的话Javascript 中的document.cookie语句就不能获取到cookie了.</li><li>表单数据规定值的类型，例如：年龄应为只能为int、name只能为字母数字组合。。。。</li><li>对数据进行Html Encode 处理</li><li>过滤或移除特殊的Html标签， 例如: <code>&lt;script&gt;</code>, <code>&lt;iframe&gt;</code> , <code>&amp;lt; for &lt;</code>, <code>&amp;gt; for &gt;</code>, <code>&amp;quot for</code></li><li>过滤JavaScript 事件的标签。例如 &quot;onclick=&quot;, &quot;onfocus&quot; 等等。</li></ul><p>参考资料：<br> https://www.cnblogs.com/phpstudy2015-6/p/6767032.html<br> https://www.cnblogs.com/443855539-wind/p/6055816.html<br> https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065?fr=aladdin</p><h2 id="csrf" tabindex="-1"><a class="header-anchor" href="#csrf">¶</a> <span class="prefix"></span><span class="content" id="csrf"><a class="header-anchor" href="#csrf" aria-hidden="true">#</a> CSRF</span><span class="suffix"></span></h2><p>CSRF（Cross-site request forgery）跨站请求伪造，也被称为“One Click Attack”或者Session Riding，通常缩写为CSRF或者XSRF，是一种对网站的恶意利用。尽管听起来像跨站脚本（XSS），但它与XSS非常不同，XSS利用站点内的信任用户，而CSRF则通过伪装来自受信任用户的请求来利用受信任的网站。与XSS攻击相比，CSRF攻击往往不大流行（因此对其进行防范的资源也相当稀少）和难以防范，所以被认为比XSS更具危险性。</p><h3 id="特点-1" tabindex="-1"><a class="header-anchor" href="#特点-1">¶</a> <span class="prefix"></span><span class="content" id="特点-1"><a class="header-anchor" href="#特点-1" aria-hidden="true">#</a> 特点</span><span class="suffix"></span></h3><ul><li>依靠用户标识危害网站</li><li>利用网站对用户标识的信任</li><li>欺骗用户的浏览器发送HTTP请求给目标站点</li><li>另外可以通过IMG标签会触发一个GET请求，可以利用它来实现CSRF攻击。</li></ul><h3 id="防御" tabindex="-1"><a class="header-anchor" href="#防御">¶</a> <span class="prefix"></span><span class="content" id="防御"><a class="header-anchor" href="#防御" aria-hidden="true">#</a> 防御</span><span class="suffix"></span></h3><ul><li>通过referer、token或者验证码来检测用户提交。</li><li>尽量不要在页面的链接中暴露用户隐私信息。</li><li>对于用户修改删除等操作最好都使用post操作 。</li><li>避免全站通用的cookie，严格设置cookie的域。</li></ul><h2 id="同源策略" tabindex="-1"><a class="header-anchor" href="#同源策略">¶</a> <span class="prefix"></span><span class="content" id="同源策略"><a class="header-anchor" href="#同源策略" aria-hidden="true">#</a> 同源策略</span><span class="suffix"></span></h2><p>同源策略可防止 JavaScript 发起跨域请求。源被定义为 URI、主机名和端口号的组合。此策略可防止页面上的恶意脚本通过该页面的文档对象模型，访问另一个网页上的敏感数据。</p><h2 id="跨域" tabindex="-1"><a class="header-anchor" href="#跨域">¶</a> <span class="prefix"></span><span class="content" id="跨域"><a class="header-anchor" href="#跨域" aria-hidden="true">#</a> 跨域</span><span class="suffix"></span></h2><ul><li>原因 <br> 浏览器的同源策略导致了跨域</li><li>作用 <br> 用于隔离潜在恶意文件的重要安全机制</li><li>解决</li></ul><ol><li>jsonp ，允许 script 加载第三方资源</li><li>反向代理（nginx 服务内部配置 Access-Control-Allow-Origin *）</li><li>cors 前后端协作设置请求头部，Access-Control-Allow-Origin 等头部信息</li><li>iframe 嵌套通讯，postmessage</li></ol><p>https://zhuanlan.zhihu.com/p/41479807 <br><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener noreferrer">跨域资源共享 CORS 阮一峰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="jsonp" tabindex="-1"><a class="header-anchor" href="#jsonp">¶</a> <span class="prefix"></span><span class="content" id="jsonp"><a class="header-anchor" href="#jsonp" aria-hidden="true">#</a> JSONP</span><span class="suffix"></span></h2><p>这是我认为写得比较通俗易懂的一篇文章 直接转载过来<br> https://blog.csdn.net/hansexploration/article/details/80314948</p><h2 id="域名收敛" tabindex="-1"><a class="header-anchor" href="#域名收敛">¶</a> <span class="prefix"></span><span class="content" id="域名收敛"><a class="header-anchor" href="#域名收敛" aria-hidden="true">#</a> 域名收敛</span><span class="suffix"></span></h2><p>PC 时代为了突破浏览器的域名并发限制。有了域名发散。<br> 浏览器有并发限制，是为了防止DDOS攻击。<br> 域名收敛：就是将静态资源放在一个域名下。减少DNS解析的开销。<br> 域名发散：是将静态资源放在多个子域名下，就可以多线程下载，提高并行度，使客户端加载静态资源更加迅速。<br> 域名发散是pc端为了利用浏览器的多线程并行下载能力。而域名收敛多用与移动端，提高性能，因为dns解析是是从后向前迭代解析，如果域名过多性能会下降，增加DNS的解析开销。</p><!--]--></div></div><!----><div class="bottom reading-progress" data-v-e132c114><div style="" class="progress" data-v-e132c114></div></div><!--]--><!--]--></div><!--[--><footer class="footer"> powered by <a target="_blank" href="https://github.com/artiely"> Artiely</a></footer><!--]--><div class="theme-box"><div class="theme-btn-box"><span class="active theme-btn">晓露</span><span class="theme-btn">寝安</span><span class="theme-btn">浅云</span><span class="theme-btn">逍遥</span><span class="theme-btn">十漾</span><span class="theme-btn">轻拟</span></div><div class="trigger"><i class="iconfont icon-pifu"></i></div></div></div><!----><!--]--></div>
    <script type="module" src="/blog-dog/assets/app.cc5d8726.js" defer></script>
  </body>
</html>
