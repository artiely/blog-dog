/*!
 * ScrollTrigger 3.9.1
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,Ue,P,U,Ce,m,Or,or,lt,Ct,Tt,sr,j,yt,fr,Z,Rr,Ar,Ge,mr,lr,Lr,cr,ct=1,Le=[],Fe=[],Me=Date.now,ar=Me(),ae=0,Fr=1,kt=function(e){return e},he=function(e){return lt(e)[0]||(ue(e)&&a.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Br=function(e){return Math.round(e*1e5)/1e5||0},Dr=function(){return typeof window!="undefined"},Ir=function(){return a||Dr()&&(a=window.gsap)&&a.registerPlugin&&a},Xe=function(e){return!!~Or.indexOf(e)},Be=function(e,n){return~Le.indexOf(e)&&Le[Le.indexOf(e)+1][n]},Pt=function(e,n){var r=n.s,t=n.sc,i=Fe.indexOf(e),f=t===J.sc?1:2;return!~i&&(i=Fe.push(e)-1),Fe[i+f]||(Fe[i+f]=Be(e,r)||(Xe(e)?t:function(l){return arguments.length?e[r]=l:e[r]}))},zr=function(e){return Be(e,"getBoundingClientRect")||(Xe(e)?function(){return Gt.width=P.innerWidth,Gt.height=P.innerHeight,Gt}:function(){return ye(e)})},on=function(e,n,r){var t=r.d,i=r.d2,f=r.a;return(f=Be(e,"getBoundingClientRect"))?function(){return f()[t]}:function(){return(n?P["inner"+i]:e["client"+i])||0}},sn=function(e,n){return!n||~Le.indexOf(e)?zr(e):function(){return Gt}},Et=function(e,n){var r=n.s,t=n.d2,i=n.d,f=n.a;return(r="scroll"+t)&&(f=Be(e,r))?f()-zr(e)()[i]:Xe(e)?(m[r]||Ce[r])-(P["inner"+t]||Ce["client"+t]||m["client"+t]):e[r]-e["offset"+t]},ur=function(e,n){for(var r=0;r<Ge.length;r+=3)(!n||~n.indexOf(Ge[r+1]))&&e(Ge[r],Ge[r+1],Ge[r+2])},ue=function(e){return typeof e=="string"},_e=function(e){return typeof e=="function"},at=function(e){return typeof e=="number"},pr=function(e){return typeof e=="object"},Mt=function(e){return _e(e)&&e()},Nr=function(e,n){return function(){var r=Mt(e),t=Mt(n);return function(){Mt(r),Mt(t)}}},ut=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},dr=function(e,n){if(e.enabled){var r=n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Ye=Math.abs,Ot="scrollLeft",Rt="scrollTop",gr="left",hr="top",At="right",mt="bottom",Oe="width",Re="height",je="Right",Ze="Left",$e="Top",Je="Bottom",F="padding",se="margin",De="Width",Lt="Height",$="px",pe={s:Ot,p:gr,p2:Ze,os:At,os2:je,d:Oe,d2:De,a:"x",sc:function(e){return arguments.length?P.scrollTo(e,J.sc()):P.pageXOffset||U[Ot]||Ce[Ot]||m[Ot]||0}},J={s:Rt,p:hr,p2:$e,os:mt,os2:Je,d:Re,d2:Lt,a:"y",op:pe,sc:function(e){return arguments.length?P.scrollTo(pe.sc(),e):P.pageYOffset||U[Rt]||Ce[Rt]||m[Rt]||0}},Te=function(e){return P.getComputedStyle(e)},fn=function(e){var n=Te(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},Wr=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},ye=function(e,n){var r=n&&Te(e)[fr]!=="matrix(1, 0, 0, 1, 0, 0)"&&a.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),t=e.getBoundingClientRect();return r&&r.progress(0).kill(),t},_r=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},Vr=function(e){var n=[],r=e.labels,t=e.duration(),i;for(i in r)n.push(r[i]/t);return n},ln=function(e){return function(n){return a.utils.snap(Vr(e),n)}},xr=function(e){var n=a.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(t,i){return t-i});return r?function(t,i,f){f===void 0&&(f=.001);var l;if(!i)return n(t);if(i>0){for(t-=f,l=0;l<r.length;l++)if(r[l]>=t)return r[l];return r[l-1]}else for(l=r.length,t+=f;l--;)if(r[l]<=t)return r[l];return r[0]}:function(t,i,f){f===void 0&&(f=.001);var l=n(t);return!i||Math.abs(l-t)<f||l-t<0==i<0?l:n(i<0?t-e:t+e)}},cn=function(e){return function(n,r){return xr(Vr(e))(n,r.direction)}},Hr=function(e,n,r,t){return r.split(",").forEach(function(i){return e(n,i,t)})},K=function(e,n,r){return e.addEventListener(n,r,{passive:!0})},pt=function(e,n,r){return e.removeEventListener(n,r)},Ur={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ft={toggleActions:"play",anticipatePin:0},Bt={top:0,left:0,center:.5,bottom:1,right:1},Dt=function(e,n){if(ue(e)){var r=e.indexOf("="),t=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(t*=n/100),e=e.substr(0,r-1)),e=t+(e in Bt?Bt[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},It=function(e,n,r,t,i,f,l,u){var G=i.startColor,Q=i.endColor,L=i.fontSize,y=i.indent,c=i.fontWeight,d=U.createElement("div"),X=Xe(r)||Be(r,"pinType")==="fixed",re=e.indexOf("scroller")!==-1,C=X?m:r,xe=e.indexOf("start")!==-1,q=xe?G:Q,v="border-color:"+q+";font-size:"+L+";color:"+q+";font-weight:"+c+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((re||u)&&X?"fixed;":"absolute;"),(re||u||!X)&&(v+=(t===J?At:mt)+":"+(f+parseFloat(y))+"px;"),l&&(v+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),d._isStart=xe,d.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),d.style.cssText=v,d.innerText=n||n===0?e+"-"+n:e,C.children[0]?C.insertBefore(d,C.children[0]):C.appendChild(d),d._offset=d["offset"+t.op.d2],zt(d,0,t,xe),d},zt=function(e,n,r,t){var i={display:"block"},f=r[t?"os2":"p2"],l=r[t?"p2":"os2"];e._isFlipped=t,i[r.a+"Percent"]=t?-100:0,i[r.a]=t?"1px":0,i["border"+f+De]=1,i["border"+l+De]=0,i[r.p]=n+"px",a.set(e,i)},x=[],br={},Gr=function(){return Me()-ae>34&&vr()},Nt=function(){vr(),ae||Qe("scrollStart"),ae=Me()},dt=function(){return!j&&!Lr&&!U.fullscreenElement&&or.restart(!0)},gt={},an=[],R=[],Ke,Xr,Yr=function(e){var n=a.ticker.frame,r=[],t=0,i;if(Xr!==n||ct){for(Wt();t<R.length;t+=4)i=P.matchMedia(R[t]).matches,i!==R[t+3]&&(R[t+3]=i,i?r.push(t):Wt(1,R[t])||_e(R[t+2])&&R[t+2]());for(Zr(),t=0;t<r.length;t++)i=r[t],Ke=R[i],R[i+2]=R[i+1](e);Ke=0,Ue&&qe(0,1),Xr=n,Qe("matchMedia")}},jr=function s(){return pt(k,"scrollEnd",s)||qe(!0)},Qe=function(e){return gt[e]&&gt[e].map(function(n){return n()})||an},fe=[],Zr=function(e){for(var n=0;n<fe.length;n+=5)(!e||fe[n+4]===e)&&(fe[n].style.cssText=fe[n+1],fe[n].getBBox&&fe[n].setAttribute("transform",fe[n+2]||""),fe[n+3].uncache=1)},Wt=function(e,n){var r;for(Z=0;Z<x.length;Z++)r=x[Z],(!n||r.media===n)&&(e?r.kill(1):r.revert());n&&Zr(n),n||Qe("revert")},$r=function(){return Fe.forEach(function(e){return typeof e=="function"&&(e.rec=0)})},wr,qe=function(e,n){if(ae&&!e){K(k,"scrollEnd",jr);return}wr=!0;var r=Qe("refreshInit");mr&&k.sort(),n||Wt(),x.forEach(function(t){return t.refresh()}),x.forEach(function(t){return t.vars.end==="max"&&t.setPositions(t.start,Et(t.scroller,t._dir))}),r.forEach(function(t){return t&&t.render&&t.render(-1)}),$r(),or.pause(),wr=!1,Qe("refresh")},Jr=0,Vt=1,vr=function(){if(!wr){var e=x.length,n=Me(),r=n-ar>=50,t=e&&x[0].scroll();if(Vt=Jr>t?-1:1,Jr=t,r&&(ae&&!yt&&n-ae>200&&(ae=0,Qe("scrollEnd")),Tt=ar,ar=n),Vt<0){for(Z=e;Z-- >0;)x[Z]&&x[Z].update(0,r);Vt=1}else for(Z=0;Z<e;Z++)x[Z]&&x[Z].update(0,r)}},Sr=[gr,hr,mt,At,se+Je,se+je,se+$e,se+Ze,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ht=Sr.concat([Oe,Re,"boxSizing","max"+De,"max"+Lt,"position",se,F,F+$e,F+je,F+Je,F+Ze]),un=function(e,n,r){ht(r);var t=e._gsap;if(t.spacerIsNative)ht(t.spacerState);else if(e.parentNode===n){var i=n.parentNode;i&&(i.insertBefore(e,n),i.removeChild(n))}},Cr=function(e,n,r,t){if(e.parentNode!==n){for(var i=Sr.length,f=n.style,l=e.style,u;i--;)u=Sr[i],f[u]=r[u];f.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(f.display="inline-block"),l[mt]=l[At]=f.flexBasis="auto",f.overflow="visible",f.boxSizing="border-box",f[Oe]=_r(e,pe)+$,f[Re]=_r(e,J)+$,f[F]=l[se]=l[hr]=l[gr]="0",ht(t),l[Oe]=l["max"+De]=r[Oe],l[Re]=l["max"+Lt]=r[Re],l[F]=r[F],e.parentNode.insertBefore(n,e),n.appendChild(e)}},pn=/([A-Z])/g,ht=function(e){if(e){var n=e.t.style,r=e.length,t=0,i,f;for((e.t._gsap||a.core.getCache(e.t)).uncache=1;t<r;t+=2)f=e[t+1],i=e[t],f?n[i]=f:n[i]&&n.removeProperty(i.replace(pn,"-$1").toLowerCase())}},Ut=function(e){for(var n=Ht.length,r=e.style,t=[],i=0;i<n;i++)t.push(Ht[i],r[Ht[i]]);return t.t=e,t},dn=function(e,n,r){for(var t=[],i=e.length,f=r?8:0,l;f<i;f+=2)l=e[f],t.push(l,l in n?n[l]:e[f+1]);return t.t=e.t,t},Gt={left:0,top:0},Kr=function(e,n,r,t,i,f,l,u,G,Q,L,y,c){_e(e)&&(e=e(u)),ue(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?Dt("0"+e.substr(3),r):0));var d=c?c.time():0,X,re,C;if(c&&c.seek(0),at(e))l&&zt(l,r,t,!0);else{_e(n)&&(n=n(u));var xe=e.split(" "),q,v,de,V;C=he(n)||m,q=ye(C)||{},(!q||!q.left&&!q.top)&&Te(C).display==="none"&&(V=C.style.display,C.style.display="block",q=ye(C),V?C.style.display=V:C.style.removeProperty("display")),v=Dt(xe[0],q[t.d]),de=Dt(xe[1]||"0",r),e=q[t.p]-G[t.p]-Q+v+i-de,l&&zt(l,de,t,r-de<20||l._isStart&&de>20),r-=r-de}if(f){var b=e+r,Ie=f._isStart;X="scroll"+t.d2,zt(f,b,t,Ie&&b>20||!Ie&&(L?Math.max(m[X],Ce[X]):f.parentNode[X])<=b+1),L&&(G=ye(l),L&&(f.style[t.op.p]=G[t.op.p]-t.op.m-f._offset+$))}return c&&C&&(X=ye(C),c.seek(y),re=ye(C),c._caScrollDist=X[t.p]-re[t.p],e=e/c._caScrollDist*y),c&&c.seek(d),c?e:Math.round(e)},gn=/(?:webkit|moz|length|cssText|inset)/i,Qr=function(e,n,r,t){if(e.parentNode!==n){var i=e.style,f,l;if(n===m){e._stOrig=i.cssText,l=Te(e);for(f in l)!+f&&!gn.test(f)&&l[f]&&typeof i[f]=="string"&&f!=="0"&&(i[f]=l[f]);i.top=r,i.left=t}else i.cssText=e._stOrig;a.core.getCache(e).uncache=1,n.appendChild(e)}},qr=function(e,n){var r=Pt(e,n),t="_scroll"+n.p2,i,f,l=function u(G,Q,L,y,c){var d=u.tween,X=Q.onComplete,re={};return d&&d.kill(),i=Math.round(L),Q[t]=G,Q.modifiers=re,re[t]=function(C){return C=Br(r()),C!==i&&C!==f&&Math.abs(C-i)>2&&Math.abs(C-f)>2?(d.kill(),u.tween=0):C=L+y*d.ratio+c*d.ratio*d.ratio,f=i,i=Br(C)},Q.onComplete=function(){u.tween=0,X&&X.call(d)},d=u.tween=a.to(e,Q),d};return e[t]=r,K(e,"wheel",function(){return l.tween&&l.tween.kill()&&(l.tween=0)}),l};pe.op=J;var k=function(){function s(n,r){Ue||s.register(a)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(n,r)}var e=s.prototype;return e.init=function(r,t){if(this.progress=this.start=0,this.vars&&this.kill(1),!Fr){this.update=this.refresh=this.kill=kt;return}r=Wr(ue(r)||at(r)||r.nodeType?{trigger:r}:r,Ft);var i=r,f=i.onUpdate,l=i.toggleClass,u=i.id,G=i.onToggle,Q=i.onRefresh,L=i.scrub,y=i.trigger,c=i.pin,d=i.pinSpacing,X=i.invalidateOnRefresh,re=i.anticipatePin,C=i.onScrubComplete,xe=i.onSnapComplete,q=i.once,v=i.snap,de=i.pinReparent,V=i.pinSpacer,b=i.containerAnimation,Ie=i.fastScrollEnd,_t=i.preventOverlaps,h=r.horizontal||r.containerAnimation&&r.horizontal!==!1?pe:J,ne=!L&&L!==0,T=he(r.scroller||P),Xt=a.core.getCache(T),ke=Xe(T),Ae=("pinType"in r?r.pinType:Be(T,"pinType")||ke&&"fixed")==="fixed",et=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],Yt=ne&&r.toggleActions.split(" "),jt="markers"in r?r.markers:Ft.markers,Tr=ke?0:parseFloat(Te(T)["border"+h.p2+De])||0,o=this,xt=r.onRefreshInit&&function(){return r.onRefreshInit(o)},en=on(T,ke,h),tn=sn(T,ke),Zt=0,z=Pt(T,h),ge,te,yr,ze,tt,O,le,be,Ne,we,We,rt,H,bt,wt,$t,ie,Jt,Kt,Qt,nt,Pe,kr,it,Pr,qt,er,vt,tr,Y,St,Ee,Ve,ot,st,rr,nr;if(o.media=Ke,o._dir=h,re*=45,o.scroller=T,o.scroll=b?b.time.bind(b):z,ze=z(),o.vars=r,t=t||r.animation,"refreshPriority"in r&&(mr=1),Xt.tweenScroll=Xt.tweenScroll||{top:qr(T,J),left:qr(T,pe)},o.tweenTo=ge=Xt.tweenScroll[h.p],t&&(t.vars.lazy=!1,t._initted||t.vars.immediateRender!==!1&&r.immediateRender!==!1&&t.render(0,!0,!0),o.animation=t.pause(),t.scrollTrigger=o,St=at(L)&&L,St&&(Y=a.to(t,{ease:"power3",duration:St,onComplete:function(){return C&&C(o)}})),vt=0,u||(u=t.vars.id)),x.push(o),v&&((!pr(v)||v.push)&&(v={snapTo:v}),"scrollBehavior"in m.style&&a.set(ke?[m,Ce]:T,{scrollBehavior:"auto"}),yr=_e(v.snapTo)?v.snapTo:v.snapTo==="labels"?ln(t):v.snapTo==="labelsDirectional"?cn(t):v.directional!==!1?function(g,_){return xr(v.snapTo)(g,_.direction)}:a.utils.snap(v.snapTo),Ee=v.duration||{min:.1,max:2},Ee=pr(Ee)?Ct(Ee.min,Ee.max):Ct(Ee,Ee),Ve=a.delayedCall(v.delay||St/2||.1,function(){if(Math.abs(o.getVelocity())<10&&!yt&&Zt!==z()){var g=t&&!ne?t.totalProgress():o.progress,_=(g-tr)/(Me()-Tt)*1e3||0,w=a.utils.clamp(-o.progress,1-o.progress,Ye(_/2)*_/.185),S=o.progress+(v.inertia===!1?0:w),oe=Ct(0,1,yr(S,o)),p=z(),A=Math.round(O+oe*H),E=v,ve=E.onStart,M=E.onInterrupt,ee=E.onComplete,ce=ge.tween;if(p<=le&&p>=O&&A!==p){if(ce&&!ce._initted&&ce.data<=Ye(A-p))return;v.inertia===!1&&(w=oe-o.progress),ge(A,{duration:Ee(Ye(Math.max(Ye(S-g),Ye(oe-g))*.185/_/.05||0)),ease:v.ease||"power3",data:Ye(A-p),onInterrupt:function(){return Ve.restart(!0)&&M&&M(o)},onComplete:function(){o.update(),Zt=z(),vt=tr=t&&!ne?t.totalProgress():o.progress,xe&&xe(o),ee&&ee(o)}},p,w*H,A-p-w*H),ve&&ve(o,ge.tween)}}else o.isActive&&Ve.restart(!0)}).pause()),u&&(br[u]=o),y=o.trigger=he(y||c),c=c===!0?y:he(c),ue(l)&&(l={targets:y,className:l}),c&&(d===!1||d===se||(d=!d&&Te(c.parentNode).display==="flex"?!1:F),o.pin=c,r.force3D!==!1&&a.set(c,{force3D:!0}),te=a.core.getCache(c),te.spacer?bt=te.pinState:(V&&(V=he(V),V&&!V.nodeType&&(V=V.current||V.nativeElement),te.spacerIsNative=!!V,V&&(te.spacerState=Ut(V))),te.spacer=ie=V||U.createElement("div"),ie.classList.add("pin-spacer"),u&&ie.classList.add("pin-spacer-"+u),te.pinState=bt=Ut(c)),o.spacer=ie=te.spacer,er=Te(c),kr=er[d+h.os2],Kt=a.getProperty(c),Qt=a.quickSetter(c,h.a,$),Cr(c,ie,er),$t=Ut(c)),jt&&(rt=pr(jt)?Wr(jt,Ur):Ur,we=It("scroller-start",u,T,h,rt,0),We=It("scroller-end",u,T,h,rt,0,we),Jt=we["offset"+h.op.d2],be=It("start",u,T,h,rt,Jt,0,b),Ne=It("end",u,T,h,rt,Jt,0,b),b&&(nr=a.quickSetter([be,Ne],h.a,$)),!Ae&&!(Le.length&&Be(T,"fixedMarkers")===!0)&&(fn(ke?m:T),a.set([we,We],{force3D:!0}),Pr=a.quickSetter(we,h.a,$),qt=a.quickSetter(We,h.a,$))),b){var Er=b.vars.onUpdate,rn=b.vars.onUpdateParams;b.eventCallback("onUpdate",function(){o.update(0,0,1),Er&&Er.apply(rn||[])})}o.previous=function(){return x[x.indexOf(o)-1]},o.next=function(){return x[x.indexOf(o)+1]},o.revert=function(g){var _=g!==!1||!o.enabled,w=j;_!==o.isReverted&&(_&&(o.scroll.rec||(o.scroll.rec=z()),st=Math.max(z(),o.scroll.rec||0),ot=o.progress,rr=t&&t.progress()),be&&[be,Ne,we,We].forEach(function(S){return S.style.display=_?"none":"block"}),_&&(j=1),o.update(_),j=w,c&&(_?un(c,ie,bt):(!de||!o.isActive)&&Cr(c,ie,Te(c),it)),o.isReverted=_)},o.refresh=function(g,_){if(!((j||!o.enabled)&&!_)){if(c&&g&&ae){K(s,"scrollEnd",jr);return}j=1,Y&&Y.pause(),X&&t&&t.time(-.01,!0).invalidate(),o.isReverted||o.revert();for(var w=en(),S=tn(),oe=b?b.duration():Et(T,h),p=0,A=0,E=r.end,ve=r.endTrigger||y,M=r.start||(r.start===0||!y?0:c?"0 0":"0 100%"),ee=r.pinnedContainer&&he(r.pinnedContainer),ce=y&&Math.max(0,x.indexOf(o))||0,B=ce,D,W,He,me,I,N,Se,ir,Mr,ft;B--;)N=x[B],N.end||N.refresh(0,1)||(j=1),Se=N.pin,Se&&(Se===y||Se===c)&&!N.isReverted&&(ft||(ft=[]),ft.unshift(N),N.revert());for(_e(M)&&(M=M(o)),O=Kr(M,y,w,h,z(),be,we,o,S,Tr,Ae,oe,b)||(c?-.001:0),_e(E)&&(E=E(o)),ue(E)&&!E.indexOf("+=")&&(~E.indexOf(" ")?E=(ue(M)?M.split(" ")[0]:"")+E:(p=Dt(E.substr(2),w),E=ue(M)?M:O+p,ve=y)),le=Math.max(O,Kr(E||(ve?"100% 0":oe),ve,w,h,z()+p,Ne,We,o,S,Tr,Ae,oe,b))||-.001,H=le-O||(O-=.01)&&.001,p=0,B=ce;B--;)N=x[B],Se=N.pin,Se&&N.start-N._pinPush<O&&!b&&(D=N.end-N.start,(Se===y||Se===ee)&&!at(M)&&(p+=D*(1-N.progress)),Se===c&&(A+=D));if(O+=p,le+=p,o._pinPush=A,be&&p&&(D={},D[h.a]="+="+p,ee&&(D[h.p]="-="+z()),a.set([be,Ne],D)),c)D=Te(c),me=h===J,He=z(),nt=parseFloat(Kt(h.a))+A,!oe&&le>1&&((ke?m:T).style["overflow-"+h.a]="scroll"),Cr(c,ie,D),$t=Ut(c),W=ye(c,!0),ir=Ae&&Pt(T,me?pe:J)(),d&&(it=[d+h.os2,H+A+$],it.t=ie,B=d===F?_r(c,h)+H+A:0,B&&it.push(h.d,B+$),ht(it),Ae&&z(st)),Ae&&(I={top:W.top+(me?He-O:ir)+$,left:W.left+(me?ir:He-O)+$,boxSizing:"border-box",position:"fixed"},I[Oe]=I["max"+De]=Math.ceil(W.width)+$,I[Re]=I["max"+Lt]=Math.ceil(W.height)+$,I[se]=I[se+$e]=I[se+je]=I[se+Je]=I[se+Ze]="0",I[F]=D[F],I[F+$e]=D[F+$e],I[F+je]=D[F+je],I[F+Je]=D[F+Je],I[F+Ze]=D[F+Ze],wt=dn(bt,I,de)),t?(Mr=t._initted,lr(1),t.render(t.duration(),!0,!0),Pe=Kt(h.a)-nt+H+A,H!==Pe&&wt.splice(wt.length-2,2),t.render(0,!0,!0),Mr||t.invalidate(),lr(0)):Pe=H;else if(y&&z()&&!b)for(W=y.parentNode;W&&W!==m;)W._pinOffset&&(O-=W._pinOffset,le-=W._pinOffset),W=W.parentNode;ft&&ft.forEach(function(nn){return nn.revert(!1)}),o.start=O,o.end=le,ze=tt=z(),b||(ze<st&&z(st),o.scroll.rec=0),o.revert(!1),j=0,t&&ne&&t._initted&&t.progress()!==rr&&t.progress(rr,!0).render(t.time(),!0,!0),(ot!==o.progress||b)&&(t&&!ne&&t.totalProgress(ot,!0),o.progress=ot,o.update(0,0,1)),c&&d&&(ie._pinOffset=Math.round(o.progress*Pe)),Q&&Q(o)}},o.getVelocity=function(){return(z()-tt)/(Me()-Tt)*1e3||0},o.endAnimation=function(){ut(o.callbackAnimation),t&&(Y?Y.progress(1):t.paused()?ne||ut(t,o.direction<0,1):ut(t,t.reversed()))},o.labelToScroll=function(g){return t&&t.labels&&(O||o.refresh()||O)+t.labels[g]/t.duration()*H||0},o.getTrailing=function(g){var _=x.indexOf(o),w=o.direction>0?x.slice(0,_).reverse():x.slice(_+1);return ue(g)?w.filter(function(S){return S.vars.preventOverlaps===g}):w},o.update=function(g,_,w){if(!(b&&!w&&!g)){var S=o.scroll(),oe=g?0:(S-O)/H,p=oe<0?0:oe>1?1:oe||0,A=o.progress,E,ve,M,ee,ce,B,D,W;if(_&&(tt=ze,ze=b?z():S,v&&(tr=vt,vt=t&&!ne?t.totalProgress():p)),re&&!p&&c&&!j&&!ct&&ae&&O<S+(S-tt)/(Me()-Tt)*re&&(p=1e-4),p!==A&&o.enabled){if(E=o.isActive=!!p&&p<1,ve=!!A&&A<1,B=E!==ve,ce=B||!!p!=!!A,o.direction=p>A?1:-1,o.progress=p,ce&&!j&&(M=p&&!A?0:p===1?1:A===1?2:3,ne&&(ee=!B&&Yt[M+1]!=="none"&&Yt[M+1]||Yt[M],W=t&&(ee==="complete"||ee==="reset"||ee in t))),_t&&B&&(W||L||!t)&&(_e(_t)?_t(o):o.getTrailing(_t).forEach(function(N){return N.endAnimation()})),ne||(Y&&!j&&!ct?(Y.vars.totalProgress=p,Y.invalidate().restart()):t&&t.totalProgress(p,!!j)),c){if(g&&d&&(ie.style[d+h.os2]=kr),!Ae)Qt(nt+Pe*p);else if(ce){if(D=!g&&p>A&&le+1>S&&S+1>=Et(T,h),de)if(!g&&(E||D)){var He=ye(c,!0),me=S-O;Qr(c,m,He.top+(h===J?me:0)+$,He.left+(h===J?0:me)+$)}else Qr(c,ie);ht(E||D?wt:$t),Pe!==H&&p<1&&E||Qt(nt+(p===1&&!D?Pe:0))}}v&&!ge.tween&&!j&&!ct&&Ve.restart(!0),l&&(B||q&&p&&(p<1||!cr))&&lt(l.targets).forEach(function(N){return N.classList[E||q?"add":"remove"](l.className)}),f&&!ne&&!g&&f(o),ce&&!j?(ne&&(W&&(ee==="complete"?t.pause().totalProgress(1):ee==="reset"?t.restart(!0).pause():ee==="restart"?t.restart(!0):t[ee]()),f&&f(o)),(B||!cr)&&(G&&B&&dr(o,G),et[M]&&dr(o,et[M]),q&&(p===1?o.kill(!1,1):et[M]=0),B||(M=p===1?1:3,et[M]&&dr(o,et[M]))),Ie&&!E&&Math.abs(o.getVelocity())>(at(Ie)?Ie:2500)&&(ut(o.callbackAnimation),Y?Y.progress(1):ut(t,!p,1))):ne&&f&&!j&&f(o)}if(qt){var I=b?S/b.duration()*(b._caScrollDist||0):S;Pr(I+(we._isFlipped?1:0)),qt(I)}nr&&nr(-S/b.duration()*(b._caScrollDist||0))}},o.enable=function(g,_){o.enabled||(o.enabled=!0,K(T,"resize",dt),K(T,"scroll",Nt),xt&&K(s,"refreshInit",xt),g!==!1&&(o.progress=ot=0,ze=tt=Zt=z()),_!==!1&&o.refresh())},o.getTween=function(g){return g&&ge?ge.tween:Y},o.setPositions=function(g,_){c&&(nt+=g-O,Pe+=_-g-H),o.start=O=g,o.end=le=_,H=_-g,o.update()},o.disable=function(g,_){if(o.enabled&&(g!==!1&&o.revert(),o.enabled=o.isActive=!1,_||Y&&Y.pause(),st=0,te&&(te.uncache=1),xt&&pt(s,"refreshInit",xt),Ve&&(Ve.pause(),ge.tween&&ge.tween.kill()&&(ge.tween=0)),!ke)){for(var w=x.length;w--;)if(x[w].scroller===T&&x[w]!==o)return;pt(T,"resize",dt),pt(T,"scroll",Nt)}},o.kill=function(g,_){o.disable(g,_),Y&&Y.kill(),u&&delete br[u];var w=x.indexOf(o);w>=0&&x.splice(w,1),w===Z&&Vt>0&&Z--,w=0,x.forEach(function(S){return S.scroller===o.scroller&&(w=1)}),w||(o.scroll.rec=0),t&&(t.scrollTrigger=null,g&&t.render(-1),_||t.kill()),be&&[be,Ne,we,We].forEach(function(S){return S.parentNode&&S.parentNode.removeChild(S)}),c&&(te&&(te.uncache=1),w=0,x.forEach(function(S){return S.pin===c&&w++}),w||(te.spacer=0))},o.enable(!1,!1),!t||!t.add||H?o.refresh():a.delayedCall(.01,function(){return O||le||o.refresh()})&&(H=.01)&&(O=le=0)},s.register=function(r){if(!Ue&&(a=r||Ir(),Dr()&&window.document&&(P=window,U=document,Ce=U.documentElement,m=U.body),a&&(lt=a.utils.toArray,Ct=a.utils.clamp,lr=a.core.suppressOverwrites||kt,a.core.globals("ScrollTrigger",s),m))){K(P,"wheel",Nt),Or=[P,U,Ce,m],K(U,"scroll",Nt);var t=m.style,i=t.borderTopStyle,f;t.borderTopStyle="solid",f=ye(m),J.m=Math.round(f.top+J.sc())||0,pe.m=Math.round(f.left+pe.sc())||0,i?t.borderTopStyle=i:t.removeProperty("border-top-style"),sr=setInterval(Gr,200),a.delayedCall(.5,function(){return ct=0}),K(U,"touchcancel",kt),K(m,"touchstart",kt),Hr(K,U,"pointerdown,touchstart,mousedown",function(){return yt=1}),Hr(K,U,"pointerup,touchend,mouseup",function(){return yt=0}),fr=a.utils.checkPrefix("transform"),Ht.push(fr),Ue=Me(),or=a.delayedCall(.2,qe).pause(),Ge=[U,"visibilitychange",function(){var l=P.innerWidth,u=P.innerHeight;U.hidden?(Rr=l,Ar=u):(Rr!==l||Ar!==u)&&dt()},U,"DOMContentLoaded",qe,P,"load",function(){return ae||qe()},P,"resize",dt],ur(K)}return Ue},s.defaults=function(r){if(r)for(var t in r)Ft[t]=r[t];return Ft},s.kill=function(){Fr=0,x.slice(0).forEach(function(r){return r.kill(1)})},s.config=function(r){"limitCallbacks"in r&&(cr=!!r.limitCallbacks);var t=r.syncInterval;t&&clearInterval(sr)||(sr=t)&&setInterval(Gr,t),"autoRefreshEvents"in r&&(ur(pt)||ur(K,r.autoRefreshEvents||"none"),Lr=(r.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(r,t){var i=he(r),f=Fe.indexOf(i),l=Xe(i);~f&&Fe.splice(f,l?6:2),t&&(l?Le.unshift(P,t,m,t,Ce,t):Le.unshift(i,t))},s.matchMedia=function(r){var t,i,f,l,u;for(i in r)f=R.indexOf(i),l=r[i],Ke=i,i==="all"?l():(t=P.matchMedia(i),t&&(t.matches&&(u=l()),~f?(R[f+1]=Nr(R[f+1],l),R[f+2]=Nr(R[f+2],u)):(f=R.length,R.push(i,l,u),t.addListener?t.addListener(Yr):t.addEventListener("change",Yr)),R[f+3]=t.matches)),Ke=0;return R},s.clearMatchMedia=function(r){r||(R.length=0),r=R.indexOf(r),r>=0&&R.splice(r,4)},s.isInViewport=function(r,t,i){var f=(ue(r)?he(r):r).getBoundingClientRect(),l=f[i?Oe:Re]*t||0;return i?f.right-l>0&&f.left+l<P.innerWidth:f.bottom-l>0&&f.top+l<P.innerHeight},s.positionInViewport=function(r,t,i){ue(r)&&(r=he(r));var f=r.getBoundingClientRect(),l=f[i?Oe:Re],u=t==null?l/2:t in Bt?Bt[t]*l:~t.indexOf("%")?parseFloat(t)*l/100:parseFloat(t)||0;return i?(f.left+u)/P.innerWidth:(f.top+u)/P.innerHeight},s}();k.version="3.9.1";k.saveStyles=function(s){return s?lt(s).forEach(function(e){if(e&&e.style){var n=fe.indexOf(e);n>=0&&fe.splice(n,5),fe.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),a.core.getCache(e),Ke)}}):fe};k.revert=function(s,e){return Wt(!s,e)};k.create=function(s,e){return new k(s,e)};k.refresh=function(s){return s?dt():(Ue||k.register())&&qe(!0)};k.update=vr;k.clearScrollMemory=$r;k.maxScroll=function(s,e){return Et(s,e?pe:J)};k.getScrollFunc=function(s,e){return Pt(he(s),e?pe:J)};k.getById=function(s){return br[s]};k.getAll=function(){return x.slice(0)};k.isScrolling=function(){return!!ae};k.snapDirectional=xr;k.addEventListener=function(s,e){var n=gt[s]||(gt[s]=[]);~n.indexOf(e)||n.push(e)};k.removeEventListener=function(s,e){var n=gt[s],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};k.batch=function(s,e){var n=[],r={},t=e.interval||.016,i=e.batchMax||1e9,f=function(G,Q){var L=[],y=[],c=a.delayedCall(t,function(){Q(L,y),L=[],y=[]}).pause();return function(d){L.length||c.restart(!0),L.push(d.trigger),y.push(d),i<=L.length&&c.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&_e(e[l])&&l!=="onRefreshInit"?f(l,e[l]):e[l];return _e(i)&&(i=i(),K(k,"refresh",function(){return i=e.batchMax()})),lt(s).forEach(function(u){var G={};for(l in r)G[l]=r[l];G.trigger=u,n.push(k.create(G))}),n};k.sort=function(s){return x.sort(s||function(e,n){return(e.vars.refreshPriority||0)*-1e6+e.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};Ir()&&a.registerPlugin(k);export{k as ScrollTrigger,k as default};
